<!DOCTYPE html>

    <html lang="en">
    <head>
        <meta charset="utf-8">

        <title>Tutorial 12</title>

        <script>
            function initialize(){
                initColorElement = document.getElementById('initColor');
                colorElement = document.getElementById("color");
                timeElement = document.getElementById("timeTook");
            };

            function rgb(r, g, b){
                r = Math.floor(r);
                g = Math.floor(g);
                b = Math.floor(b);
                return ["rgb(",r,",",g,",",b,")"].join("");
            }

            function main(){
                let red = Math.floor(255 * Math.random());
                let blue = Math.floor(255 * Math.random());
                let green = Math.floor(255 * Math.random());
                initColorElement.innerHTML=`(${red}, ${green}, ${blue})`;

                let guessColor = () => Math.floor(255 * Math.random());

                let newRed = 0;
                let newGreen = 0;
                let newBlue = 0;

                t0 = performance.now();

                // each while loop is suppose to iterate until it equals the corresponding color
                // at the end, the background color should be the same as the initialized color
                while(true){
                  newRed = guessColor();
                  if (newRed === red){
                    break;
                  } else{
                    document.body.style.backgroundColor = rgb(newRed, newGreen, newBlue);
                    colorElement.innerHTML = rgb(newRed, newGreen, newBlue);
                  };
                };

                while(true){
                  newGreen = guessColor();
                  if (newGreen === green){
                    break;
                  } else{
                    document.body.style.backgroundColor = rgb(newRed, newGreen, newBlue);
                    colorElement.innerHTML = rgb(newRed, newGreen, newBlue);
                  };
                };

                while(true){
                  newBlue = guessColor();
                  if (newBlue === blue){
                    break;
                  } else{
                    document.body.style.backgroundColor = rgb(newRed, newGreen, newBlue);
                    colorElement.innerHTML = rgb(newRed, newGreen, newBlue);
                  };
                };

                document.body.style.backgroundColor= rgb(newRed, newGreen, newBlue);
                tFinal = performance.now() - t0;
                timeElement.innerHTML = tFinal;

            }
        </script>

        <style>
        </style>

    </head>

    <body onload="initialize();">
        <button type="button" onclick="main();">Start</button>
        <p>Initial Color: <span id="initColor"></span></p>
        <p id="pColor">Color Now: <span id="color"></span></p>
        <p>Time: <span id="timeTook"></span></p>
    </body>
</html>
